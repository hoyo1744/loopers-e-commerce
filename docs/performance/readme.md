# 상품 목록 조회 API 성능 개선 보고서

본 보고서는 **인덱스 최적화**, **비정규화**, **캐싱** 기법을 활용하여 상품 목록 조회 API의 성능을 개선한 과정을 정리한 문서입니다.

## 개선 항목
- [인덱스 최적화](./01-index-product-list-performance.md)
- [비정규화 적용](./02-denormalization-product-list-performance.md)
- [캐싱 적용](./03-cache-product-list-performance.md)

---

## 데이터 생성
- `data.sql` 스크립트를 이용해 데이터 생성

---

## 데이터 분포

### 1. `brand`
- 총 **4건**
- `brand_id`: 1 ~ 4 (각각 1건)
- `name`, `description`: 고정 샘플 데이터

---

### 2. `product`
- 총 **1,000,000건**
- 브랜드 분포:  
  `(n * 2654435761) MOD 4 → 1 ~ 4 균등 분포`  
  → 각 브랜드당 약 **250,000건**
- 가격 분포:  
  `(100 + ((n * 1103515245) MOD 1901)) * 100`  
  → **10,000원 ~ 200,000원**, 약 1,901개의 가격값 균등 분포
- `created_at`, `updated_at`: 모든 행 동일 (`NOW()`)

---

### 3. `stock`
- 총 **1,000,000건** (product와 1:1 매핑)
- 수량 분포:  
  `10 + ((n * 1664525) MOD 491)`  
  → **10 ~ 500** 균등 분포

---

### 4. `user`
- 총 **1,000,000건**
- `user_id`: `"user-" + 7자리 패딩 숫자` (0000001 ~ 1000000)
- `name`: `"User n"`
- `email`: `"user{7자리}@example.com"` (고유)
- `password`: `MD5("pw-" + n)`
- `phone_number`: 규칙 기반 랜덤 (010-xxxx-xxxx)
- `birth_date`: 1970-01-01 ~ 2006-01-01 균등 분포
- `gender`: 남/여 각각 50%

---

### 5. `likes`
- 각 상품별 좋아요 개수:  
  `1 + ((p.n * 1103515245) MOD 50)`  
  → **1 ~ 50** 균등 분포
- 총 좋아요 수:  
(1 + 50) / 2 × 1,000,000 = 25,500,000
→ 평균 **25.5건/상품**
- `user_id`: 상품별 좋아요 수만큼 생성, 전체 1,000,000명의 유저에 고르게 분포